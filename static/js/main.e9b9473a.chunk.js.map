{"version":3,"sources":["redux/actions/types.ts","redux/reducers/login.ts","redux/reducers/news.ts","redux/reducers/profile.ts","redux/reducers/weather.ts","redux/reducers/initialize.ts","redux/reducers/index.ts","api/services.ts","sagas/newsSagas.ts","redux/actions/news.ts","redux/actions/weather.ts","sagas/weatherSagas.ts","sagas/index.ts","redux/store.js","redux/actions/login.ts","pages/Login.tsx","components/hoc/withLoginRedirect.tsx","pages/Home.tsx","components/NewsCard.tsx","redux/actions/profile.ts","components/Header.tsx","components/Loader.tsx","utils/kelToCelsConverter.ts","components/WeatherCard.tsx","components/CitiesList.tsx","components/AddCityForm.tsx","pages/Profile.tsx","pages/Weather.tsx","pages/News.tsx","App.tsx","redux/actions/initialize.ts","index.tsx"],"names":["SET_TOKEN","GET_NEWS","SET_NEWS","SAVE_NEWS","REMOVE_NEWS","SAVE_CITY","REMOVE_CITY","GET_WEATHER","SET_WEATHER","SET_CURRENT_CITY","SET_INITIALIZED","initialState","jwtToken","loginReducer","state","action","type","t","payload","news","isLoaded","newsReducer","savedNews","profileReducer","newSavedNews","filter","item","url","currentCity","citiesList","weatherData","exist","includes","newCitiesList","length","isInitialized","initializeReducer","rootReducer","combineReducers","login","profile","weather","initialize","getData","term","Apibase","Apikey","a","req","Request","fetch","then","resp","json","onFetchNews","watchOnFetchNews","NewsSaga","call","articles","put","takeEvery","all","fork","onFetchWeather","watchOnFetchWeather","WeatherSaga","name","id","main","wind","undefined","rootSaga","newsSagas","weatherSagas","sagaMiddlevare","createSagaMiddlevare","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","run","setToken","isAuthorized","useStyles","makeStyles","form","maxWidth","margin","input","Login","token","classes","dispatch","useDispatch","useForm","control","handleSubmit","fieldsErrors","errors","reset","to","onSubmit","data","email","password","className","FormControl","variant","fullWidth","as","TextField","helperText","message","label","defaultValue","rules","required","pattern","value","Button","color","withLoginRedirect","Component","props","useSelector","Container","Typography","root","media","height","NewsCard","React","memo","useState","isSaved","setIsSaved","useEffect","currentNews","saveNewsHandler","saveNews","removeNewsHandler","urlToImage","title","description","Card","CardActionArea","CardMedia","image","CardContent","gutterBottom","component","CardActions","Box","size","onClick","Link","href","rel","target","createStyles","justifyContent","Header","onLogout","AppBar","position","Toolbar","Loader","CircularProgress","kelToCelsConverter","deg","toFixed","img","width","display","infoTitle","alignItems","WeatherCard","weatherIconUrl","icon","align","temp","feels_like","humidity","speed","wrapper","marginTop","flexDirection","cityItem","minWidth","CitiesList","onSelectCity","onRemoveCity","map","IconButton","fontSize","AddCityForm","buttonText","valueHandler","open","setOpen","setValue","handleClose","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","onChange","e","replace","autoFocus","DialogActions","handleClickCity","text","Grid","container","spacing","xs","News","App","localStorage","getItem","JSON","parse","setInitialized","setItem","stringify","exact","path","Home","Profile","Weather","ReactDOM","render","basename","document","getElementById"],"mappings":"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","file":"static/js/main.e9b9473a.chunk.js","sourcesContent":["export const SET_TOKEN = \"login/SET_TOKEN\";\r\ntype SetTokenAction = {\r\n\ttype: typeof SET_TOKEN;\r\n\tpayload: boolean;\r\n};\r\n\r\nexport type LoginActions = SetTokenAction;\r\n\r\nexport const GET_NEWS = \"news/GET_NEWS\";\r\nexport type GetNewsAction = {\r\n\ttype: typeof GET_NEWS;\r\n\tpayload: string;\r\n};\r\nexport const SET_NEWS = \"news/SET_NEWS\";\r\ntype SetNewsAction = {\r\n\ttype: typeof SET_NEWS;\r\n\tpayload: Array<any>;\r\n};\r\n\r\nexport type NewsActions = SetNewsAction | GetNewsAction;\r\n\r\nexport const SAVE_NEWS = \"profile/SAVE_NEWS\";\r\ntype SaveNewsAction = {\r\n\ttype: typeof SAVE_NEWS;\r\n\tpayload: any;\r\n};\r\nexport const REMOVE_NEWS = \"profile/REMOVE_NEWS\";\r\ntype RemoveNewsAction = {\r\n\ttype: typeof REMOVE_NEWS;\r\n\tpayload: string;\r\n};\r\n\r\nexport type ProfileActions = SaveNewsAction | RemoveNewsAction;\r\n\r\nexport const SAVE_CITY = \"weather/SAVE_CITY\";\r\ntype SaveCityAction = {\r\n\ttype: typeof SAVE_CITY;\r\n\tpayload: string;\r\n};\r\nexport const REMOVE_CITY = \"weather/REMOVE_CITY\";\r\ntype RemoveCityAction = {\r\n\ttype: typeof REMOVE_CITY;\r\n\tpayload: string;\r\n};\r\nexport const GET_WEATHER = \"weather/GET_WEATHER\";\r\nexport type GetWeatherAction = {\r\n\ttype: typeof GET_WEATHER;\r\n\tpayload: string;\r\n};\r\nexport const SET_WEATHER = \"weather/SET_WEATHER\";\r\ntype SetWeatherAction = {\r\n\ttype: typeof SET_WEATHER;\r\n\tpayload: { [k: string]: any };\r\n};\r\nexport const SET_CURRENT_CITY = \"weather/SET_CURRENT_CITY\";\r\nexport type SetCurrentCityAction = {\r\n\ttype: typeof SET_CURRENT_CITY;\r\n\tpayload: string;\r\n};\r\nexport type WeatherActions =\r\n\t| SaveCityAction\r\n\t| RemoveCityAction\r\n\t| GetWeatherAction\r\n\t| SetWeatherAction\r\n\t| SetCurrentCityAction;\r\n\r\nexport const SET_INITIALIZED = \"initialize/SET_INITIALIZED\";\r\ntype SetInitializedAction = {\r\n\ttype: typeof SET_INITIALIZED;\r\n\tpayload: boolean;\r\n};\r\n\r\nexport type InitializeActions = SetInitializedAction;\r\n","import * as t from \"../actions/types\";\r\n\r\ntype LoginStateTypes = {\r\n\tjwtToken: boolean;\r\n};\r\n\r\nconst initialState: LoginStateTypes = {\r\n\tjwtToken: false\r\n};\r\n\r\nconst loginReducer = (state = initialState, action: t.LoginActions): LoginStateTypes => {\r\n\tswitch (action.type) {\r\n\t\tcase t.SET_TOKEN:\r\n\t\t\treturn {\r\n\t\t\t\tjwtToken: action.payload\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default loginReducer;\r\n","import * as t from \"../actions/types\";\r\n\r\nexport interface IArticle {\r\n\tauthor: string;\r\n\tcontent: string;\r\n\tdescription: string;\r\n\tpublishedAt: string;\r\n\tsource: { id: string; name: string };\r\n\ttitle: string;\r\n\turl: string;\r\n\turlToImage: string;\r\n}\r\n\r\ninterface INewsState {\r\n\tnews: Array<IArticle>;\r\n\tisLoaded: boolean;\r\n}\r\n\r\nconst initialState: INewsState = {\r\n\tnews: [],\r\n\tisLoaded: false\r\n};\r\n\r\nconst newsReducer = (state = initialState, action: t.NewsActions): INewsState => {\r\n\tswitch (action.type) {\r\n\t\tcase t.SET_NEWS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tnews: action.payload ? [...action.payload] : [],\r\n\t\t\t\tisLoaded: true\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default newsReducer;\r\n","import * as t from \"../actions/types\";\r\n\r\ntype ProfileStateTypes = {\r\n\tsavedNews: Array<any>;\r\n};\r\n\r\nconst initialState: ProfileStateTypes = {\r\n\tsavedNews: []\r\n};\r\n\r\nconst profileReducer = (state = initialState, action: t.ProfileActions): ProfileStateTypes => {\r\n\tswitch (action.type) {\r\n\t\tcase t.SAVE_NEWS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsavedNews: [...state.savedNews, action.payload]\r\n\t\t\t};\r\n\t\tcase t.REMOVE_NEWS:\r\n\t\t\tconst newSavedNews = state.savedNews.filter((item) => item.url !== action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsavedNews: [...newSavedNews]\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default profileReducer;\r\n","import * as t from \"../actions/types\";\r\n\r\ntype WeatherStateTypes = {\r\n\tcurrentCity: string;\r\n\tcitiesList: Array<string>;\r\n\tweatherData: any;\r\n};\r\n\r\nconst initialState: WeatherStateTypes = {\r\n\tcurrentCity: \"Kherson\",\r\n\tcitiesList: [],\r\n\tweatherData: null\r\n};\r\n\r\nconst loginReducer = (state = initialState, action: t.WeatherActions): WeatherStateTypes => {\r\n\tswitch (action.type) {\r\n\t\tcase t.SET_WEATHER:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tweatherData: { ...action.payload }\r\n\t\t\t};\r\n\r\n\t\tcase t.SET_CURRENT_CITY:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentCity: action.payload\r\n\t\t\t};\r\n\r\n\t\tcase t.SAVE_CITY:\r\n\t\t\tconst exist = state.citiesList.includes(action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcitiesList: !exist ? [...state.citiesList, action.payload] : [...state.citiesList]\r\n\t\t\t};\r\n\t\tcase t.REMOVE_CITY:\r\n\t\t\tconst newCitiesList = state.citiesList.filter((item) => item !== action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcitiesList: newCitiesList,\r\n\t\t\t\tcurrentCity: newCitiesList.length > 0 ? newCitiesList[0] : \"\"\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default loginReducer;\r\n","import * as t from \"../actions/types\";\r\n\r\ntype InitializeStateTypes = {\r\n\tisInitialized: boolean;\r\n};\r\n\r\nconst initialState: InitializeStateTypes = {\r\n\tisInitialized: false\r\n};\r\n\r\nconst initializeReducer = (\r\n\tstate = initialState,\r\n\taction: t.InitializeActions\r\n): InitializeStateTypes => {\r\n\tswitch (action.type) {\r\n\t\tcase t.SET_INITIALIZED:\r\n\t\t\treturn {\r\n\t\t\t\tisInitialized: action.payload\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default initializeReducer;\r\n","import { combineReducers } from \"redux\";\r\n\r\nimport login from \"./login\";\r\nimport news from \"./news\";\r\nimport profile from \"./profile\";\r\nimport weather from \"./weather\";\r\nimport initialize from \"./initialize\";\r\n\r\nconst rootReducer = combineReducers({\r\n\tlogin,\r\n\tnews,\r\n\tprofile,\r\n\tweather,\r\n\tinitialize\r\n});\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>;\r\n\r\nexport default rootReducer;\r\n","export const getData = async (term: string, Apibase: string, Apikey: string): Promise<any> => {\r\n\tconst url = `${Apibase}${term}&${Apikey}`;\r\n\tconst req = new Request(url);\r\n\treturn await fetch(req).then((resp) => resp.json());\r\n};\r\n","import { all, call, fork, put, takeEvery } from \"redux-saga/effects\";\r\nimport * as t from \"../redux/actions/types\";\r\nimport { setNews } from \"../redux/actions/news\";\r\nimport { getData } from \"../api/services\";\r\n\r\nconst newsApibase: string = \"https://newsapi.org/v2/everything?q=\";\r\nconst newsApikey: string = \"apiKey=86f3eddc98f54d778f7ab8e0fd642815\";\r\n\r\nfunction* onFetchNews({ payload }: t.GetNewsAction) {\r\n\tconst { articles } = yield call(getData, payload, newsApibase, newsApikey);\r\n\tyield put(setNews(articles));\r\n}\r\n\r\nfunction* watchOnFetchNews() {\r\n\tyield takeEvery(t.GET_NEWS, onFetchNews);\r\n}\r\n\r\nexport default function* NewsSaga() {\r\n\tyield all([fork(watchOnFetchNews)]);\r\n}\r\n","import * as t from \"./types\";\r\n\r\nexport const setNews = (news: Array<any>): t.NewsActions => ({\r\n\ttype: t.SET_NEWS,\r\n\tpayload: news\r\n});\r\n\r\nexport const getNews = (term: string): t.NewsActions => ({\r\n\ttype: t.GET_NEWS,\r\n\tpayload: term\r\n});\r\n","import * as t from \"./types\";\r\n\r\nexport const saveCity = (text: string): t.WeatherActions => ({\r\n\ttype: t.SAVE_CITY,\r\n\tpayload: text\r\n});\r\n\r\nexport const removeCity = (id: string): t.WeatherActions => ({\r\n\ttype: t.REMOVE_CITY,\r\n\tpayload: id\r\n});\r\n\r\nexport const getWeather = (term: string): t.WeatherActions => ({\r\n\ttype: t.GET_WEATHER,\r\n\tpayload: term\r\n});\r\n\r\nexport const setWeather = (data: { [k: string]: any }): t.WeatherActions => ({\r\n\ttype: t.SET_WEATHER,\r\n\tpayload: data\r\n});\r\n\r\nexport const setCurrentCity = (term: string): t.WeatherActions => ({\r\n\ttype: t.SET_CURRENT_CITY,\r\n\tpayload: term\r\n});\r\n","import { all, call, fork, put, takeEvery } from \"redux-saga/effects\";\r\nimport { saveCity } from \"./../redux/actions/weather\";\r\nimport * as t from \"../redux/actions/types\";\r\nimport { setWeather } from \"../redux/actions/weather\";\r\nimport { getData } from \"../api/services\";\r\n\r\nconst weatherApibase: string = \"https://api.openweathermap.org/data/2.5/weather?q=\";\r\nconst weatherApikey: string = \"appid=1827c03858478a35143b7d58794e8c59\";\r\n\r\nfunction* onFetchWeather({ payload }: t.GetWeatherAction) {\r\n\tconst { name, id, weather, main, wind } = yield call(\r\n\t\tgetData,\r\n\t\tpayload,\r\n\t\tweatherApibase,\r\n\t\tweatherApikey\r\n\t);\r\n\tif (id !== undefined) {\r\n\t\tyield put(saveCity(payload));\r\n\t}\r\n\tyield put(setWeather({ name, id, weather, main, wind }));\r\n}\r\n\r\nfunction* watchOnFetchWeather() {\r\n\tyield takeEvery(t.GET_WEATHER, onFetchWeather);\r\n}\r\n\r\nexport default function* WeatherSaga() {\r\n\tyield all([fork(watchOnFetchWeather)]);\r\n}\r\n","import { all } from \"redux-saga/effects\";\r\nimport newsSagas from \"./newsSagas\";\r\nimport weatherSagas from \"./weatherSagas\";\r\n\r\nexport default function* rootSaga() {\r\n\tyield all([newsSagas(), weatherSagas()]);\r\n}\r\n","import { createStore, compose, applyMiddleware } from \"redux\";\r\nimport rootReducer from \"./reducers\";\r\nimport createSagaMiddlevare from \"redux-saga\";\r\nimport rootSaga from \"../sagas\";\r\n\r\nconst sagaMiddlevare = createSagaMiddlevare();\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(sagaMiddlevare)));\r\nsagaMiddlevare.run(rootSaga);\r\n\r\nexport default store;\r\n","import * as t from \"./types\";\r\n\r\nexport const setToken = (isAuthorized: boolean): t.LoginActions => ({\r\n\ttype: t.SET_TOKEN,\r\n\tpayload: isAuthorized\r\n});\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport { setToken } from \"../redux/actions/login\";\r\n\r\nimport { FormControl, TextField, Button } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles({\r\n\tform: {\r\n\t\tmaxWidth: \"300px\",\r\n\t\tmargin: \"50px auto\"\r\n\t},\r\n\tinput: {\r\n\t\tmargin: \"5px 0\"\r\n\t}\r\n});\r\n\r\ninterface ILoginData {\r\n\temail: string;\r\n\tpassword: string;\r\n}\r\n\r\ninterface ILoginProps {\r\n\ttoken: boolean;\r\n}\r\n\r\nconst Login: React.FC<ILoginProps> = ({ token }) => {\r\n\tconst classes = useStyles();\r\n\tconst dispatch = useDispatch();\r\n\tconst { control, handleSubmit, errors: fieldsErrors, reset } = useForm<ILoginData>();\r\n\r\n\tconst onSubmitLogin = (data: ILoginData): void => {\r\n\t\t// диспатчим token в store и очищаем поля формы при submit\r\n\t\tdispatch(setToken(true));\r\n\t\treset({\r\n\t\t\temail: \"\",\r\n\t\t\tpassword: \"\"\r\n\t\t});\r\n\t};\r\n\r\n\t// если token true то не даем повторно зайти на страницу login\r\n\tif (token) {\r\n\t\treturn <Redirect to='/' />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit(onSubmitLogin)} className={classes.form}>\r\n\t\t\t<FormControl variant='outlined' className={classes.input} fullWidth>\r\n\t\t\t\t<Controller\r\n\t\t\t\t\tname='email'\r\n\t\t\t\t\tas={\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tid='email'\r\n\t\t\t\t\t\t\thelperText={fieldsErrors.email ? fieldsErrors.email.message : null}\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tlabel='Email'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontrol={control}\r\n\t\t\t\t\tdefaultValue=''\r\n\t\t\t\t\trules={{\r\n\t\t\t\t\t\trequired: \"Required\",\r\n\t\t\t\t\t\tpattern: {\r\n\t\t\t\t\t\t\tvalue: /^[A-Z0-9._-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i,\r\n\t\t\t\t\t\t\tmessage: \"invalid email address\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</FormControl>\r\n\t\t\t<FormControl variant='outlined' className={classes.input} fullWidth>\r\n\t\t\t\t<Controller\r\n\t\t\t\t\tname='password'\r\n\t\t\t\t\tas={\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tid='password'\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\thelperText={fieldsErrors.password ? fieldsErrors.password.message : null}\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tlabel='Password'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontrol={control}\r\n\t\t\t\t\tdefaultValue=''\r\n\t\t\t\t\trules={{\r\n\t\t\t\t\t\trequired: \"Required\",\r\n\t\t\t\t\t\tpattern: {\r\n\t\t\t\t\t\t\tvalue: /^[0-9]{5,10}$/g,\r\n\t\t\t\t\t\t\tmessage: \"password must include at least 5 numbers\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</FormControl>\r\n\t\t\t<Button variant='contained' color='primary' type='submit'>\r\n\t\t\t\tLogin\r\n\t\t\t</Button>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\nimport { RootState } from \"../../redux/reducers\";\r\n\r\nconst withLoginRedirect = <P extends object>(Component: React.ComponentType<P>) => {\r\n\treturn (props: P) => {\r\n\t\tconst { jwtToken } = useSelector(({ login }: RootState) => login);\r\n\r\n\t\tif (!jwtToken) {\r\n\t\t\treturn <Redirect to='/login' />;\r\n\t\t}\r\n\t\treturn <Component {...props} />;\r\n\t};\r\n};\r\n\r\nexport default withLoginRedirect;\r\n","import React from \"react\";\r\nimport { Typography, Container } from \"@material-ui/core\";\r\nimport withLoginRedirect from \"../components/hoc/withLoginRedirect\";\r\n\r\nconst Home: React.FC = () => {\r\n\treturn (\r\n\t\t<Container maxWidth='sm'>\r\n\t\t\t<div className='mt-1'>\r\n\t\t\t\t<Typography variant='h4'>\r\n\t\t\t\t\tТестовое задание в компанию Jet Up на позицию Frontend Developer\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Typography variant='h6'>by Alexandr Tilnenko</Typography>\r\n\t\t\t</div>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default withLoginRedirect(Home);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { saveNews } from \"../redux/actions/profile\";\r\nimport { removeNews } from \"../redux/actions/profile\";\r\nimport { RootState } from \"../redux/reducers\";\r\nimport { IArticle } from \"../redux/reducers/news\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n\tCard,\r\n\tCardActionArea,\r\n\tCardMedia,\r\n\tTypography,\r\n\tCardContent,\r\n\tCardActions,\r\n\tButton,\r\n\tLink,\r\n\tBox\r\n} from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles({\r\n\troot: {\r\n\t\tmaxWidth: 500,\r\n\t\tmargin: \"20px auto\"\r\n\t},\r\n\tmedia: {\r\n\t\theight: 260\r\n\t}\r\n});\r\n\r\ninterface INewsCardProps {\r\n\tdata: IArticle;\r\n\tsavedNews: Array<IArticle>;\r\n}\r\n\r\nconst imgPlaceholder: string =\r\n\t\"https://peacemakersnetwork.org/wp-content/uploads/2019/09/placeholder.jpg\";\r\n\r\nconst NewsCard: React.FC<INewsCardProps> = React.memo(({ data, savedNews }) => {\r\n\tconst classes = useStyles();\r\n\tconst dispatch = useDispatch();\r\n\tconst [isSaved, setIsSaved] = useState<boolean>(false);\r\n\tconst { jwtToken } = useSelector(({ login }: RootState) => login);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst currentNews = savedNews.filter((item) => item.url === data.url)[0];\r\n\r\n\t\t// отмечаем сохранена ли текущая новость\r\n\t\tif (currentNews) {\r\n\t\t\tsetIsSaved(true);\r\n\t\t} else {\r\n\t\t\tsetIsSaved(false);\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [savedNews]);\r\n\r\n\t// сохраняем текущую новость в state\r\n\tconst saveNewsHandler = (news: IArticle): void => {\r\n\t\tdispatch(saveNews(news));\r\n\t};\r\n\t// удаляем сохраненную новость из state\r\n\tconst removeNewsHandler = (url: string): void => {\r\n\t\tdispatch(removeNews(url));\r\n\t};\r\n\r\n\tconst { urlToImage, title, description, url } = data;\r\n\treturn (\r\n\t\t<Card className={classes.root}>\r\n\t\t\t<CardActionArea>\r\n\t\t\t\t<CardMedia\r\n\t\t\t\t\tclassName={classes.media}\r\n\t\t\t\t\timage={urlToImage || imgPlaceholder}\r\n\t\t\t\t\ttitle={title}\r\n\t\t\t\t/>\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t<Typography gutterBottom variant='h5' component='h2'>\r\n\t\t\t\t\t\t{title}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography variant='body2' color='textSecondary' component='p'>\r\n\t\t\t\t\t\t{description}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</CardContent>\r\n\t\t\t</CardActionArea>\r\n\t\t\t<CardActions>\r\n\t\t\t\t{jwtToken && (\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t{isSaved ? (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tonClick={() => removeNewsHandler(data.url)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tRemove\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Button size='small' color='primary' onClick={() => saveNewsHandler(data)}>\r\n\t\t\t\t\t\t\t\tSave\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t\t<Button size='small' color='primary'>\r\n\t\t\t\t\t<Link href={url} rel='noreferrer' target='_blank' color='inherit'>\r\n\t\t\t\t\t\tLearn More\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</Button>\r\n\t\t\t</CardActions>\r\n\t\t</Card>\r\n\t);\r\n});\r\n\r\nexport default NewsCard;\r\n","import * as t from \"./types\";\r\n\r\nexport const saveNews = (news: any): t.ProfileActions => ({\r\n\ttype: t.SAVE_NEWS,\r\n\tpayload: news\r\n});\r\n\r\nexport const removeNews = (id: any): t.ProfileActions => ({\r\n\ttype: t.REMOVE_NEWS,\r\n\tpayload: id\r\n});\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport { AppBar, Toolbar, Button } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles(() =>\r\n\tcreateStyles({\r\n\t\troot: {\r\n\t\t\tjustifyContent: \"space-between\",\r\n\t\t\tmaxWidth: \"500px\",\r\n\t\t\tmargin: \"0 auto\"\r\n\t\t}\r\n\t})\r\n);\r\n\r\ninterface IHeaderProps {\r\n\ttoken: boolean;\r\n\tonLogout: () => void;\r\n}\r\n\r\nconst Header: React.FC<IHeaderProps> = React.memo(({ token, onLogout }) => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<AppBar position='sticky'>\r\n\t\t\t<Toolbar className={classes.root}>\r\n\t\t\t\t<Button color='inherit'>\r\n\t\t\t\t\t<Link to='/'>Home</Link>\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button color='inherit'>\r\n\t\t\t\t\t<Link to='profile'>Profile</Link>\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button color='inherit'>\r\n\t\t\t\t\t<Link to='weather'>Weather</Link>\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button color='inherit'>\r\n\t\t\t\t\t<Link to='news'>News</Link>\r\n\t\t\t\t</Button>\r\n\t\t\t\t{token ? (\r\n\t\t\t\t\t<Button color='inherit' onClick={onLogout}>\r\n\t\t\t\t\t\tLogout\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Button color='inherit'>\r\n\t\t\t\t\t\t<Link to='login'>Login</Link>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t</Toolbar>\r\n\t\t</AppBar>\r\n\t);\r\n});\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nimport { CircularProgress, Container } from \"@material-ui/core\";\r\n\r\nconst Loader: React.FC = () => {\r\n\treturn (\r\n\t\t<Container maxWidth='sm'>\r\n\t\t\t<CircularProgress className='mt-2' />\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default Loader;\r\n","export const kelToCelsConverter = (deg: number): number => {\r\n\treturn +(deg - 273.15).toFixed(1);\r\n};\r\n","import React from \"react\";\r\nimport { kelToCelsConverter } from \"../utils/kelToCelsConverter\";\r\n\r\nimport { CardMedia, Typography } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles({\r\n\timg: {\r\n\t\twidth: 50,\r\n\t\theight: 50,\r\n\t\tdisplay: \"inline-block\"\r\n\t},\r\n\tinfoTitle: {\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"left\"\r\n\t}\r\n});\r\n\r\ninterface IWeatherCardProps {\r\n\tweatherData: any;\r\n}\r\n\r\nconst WeatherCard: React.FC<IWeatherCardProps> = React.memo(({ weatherData }) => {\r\n\tconst classes = useStyles();\r\n\tconst { name, weather, wind, main } = weatherData;\r\n\r\n\tif (weatherData.id === undefined) {\r\n\t\treturn (\r\n\t\t\t<Typography variant='h5' className={classes.infoTitle}>\r\n\t\t\t\tEnter the name of the city, if the weather does not download so name incorrect\r\n\t\t\t</Typography>\r\n\t\t);\r\n\t}\r\n\r\n\tconst weatherIcon = weatherData.weather[0].icon;\r\n\tconst weatherIconUrl = \"http://openweathermap.org/img/w/\" + weatherIcon + \".png\";\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Typography variant='h5' className={classes.infoTitle}>\r\n\t\t\t\t{`In ${name} ${weather[0].main} `}\r\n\t\t\t\t<CardMedia image={weatherIconUrl} className={classes.img} />\r\n\t\t\t</Typography>\r\n\t\t\t<Typography variant='subtitle1' align='left'>{`Temperature: ${kelToCelsConverter(\r\n\t\t\t\tmain.temp\r\n\t\t\t)}℃`}</Typography>\r\n\t\t\t<Typography variant='subtitle1' align='left'>{`Fills like: ${kelToCelsConverter(\r\n\t\t\t\tmain.feels_like\r\n\t\t\t)}℃`}</Typography>\r\n\t\t\t<Typography variant='subtitle1' align='left'>{`Humidity: ${main.humidity}%`}</Typography>\r\n\t\t\t<Typography variant='subtitle1' align='left'>{`Wind: ${wind.speed}m/s`}</Typography>\r\n\t\t</>\r\n\t);\r\n});\r\n\r\nexport default WeatherCard;\r\n","import React from \"react\";\r\n\r\nimport { Button, IconButton } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\n\r\nconst useStyles = makeStyles({\r\n\twrapper: {\r\n\t\tmarginTop: 20,\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t\tjustifyContent: \"center\",\r\n\t\tflexDirection: \"column\"\r\n\t},\r\n\tcityItem: {\r\n\t\tmargin: \"5px 0\",\r\n\t\tdisplay: \"inline-block\",\r\n\t\tminWidth: 150\r\n\t},\r\n\ticon: {\r\n\t\tmargin: \"0 0 0 10px\"\r\n\t}\r\n});\r\n\r\ninterface ICityesListProps {\r\n\tcitiesList: Array<string>;\r\n\tcurrentCity: string;\r\n\tonSelectCity: (text: string) => void;\r\n\tonRemoveCity: (text: string) => void;\r\n}\r\n\r\nconst CitiesList: React.FC<ICityesListProps> = React.memo(\r\n\t({ citiesList, currentCity, onSelectCity, onRemoveCity }) => {\r\n\t\tconst classes = useStyles();\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t{citiesList.map((item) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div key={item}>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant={currentCity === item ? \"contained\" : \"text\"}\r\n\t\t\t\t\t\t\t\tcolor={currentCity === item ? \"primary\" : \"default\"}\r\n\t\t\t\t\t\t\t\tclassName={classes.cityItem}\r\n\t\t\t\t\t\t\t\tonClick={() => onSelectCity(item)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{item}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<IconButton className={classes.icon} onClick={() => onRemoveCity(item)}>\r\n\t\t\t\t\t\t\t\t<DeleteIcon fontSize='small' />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nexport default CitiesList;\r\n","import React from \"react\";\r\n\r\nimport {\r\n\tButton,\r\n\tTextField,\r\n\tDialog,\r\n\tDialogActions,\r\n\tDialogContent,\r\n\tDialogTitle\r\n} from \"@material-ui/core\";\r\n\r\ninterface IAddCityFormProps {\r\n\ttitle: string;\r\n\tlabel: string;\r\n\tbuttonText: string;\r\n\tvalueHandler: (text: string) => void;\r\n}\r\n\r\nconst AddCityForm: React.FC<IAddCityFormProps> = React.memo(\r\n\t({ title, label, buttonText, valueHandler }) => {\r\n\t\tconst [open, setOpen] = React.useState<boolean>(false);\r\n\t\tconst [value, setValue] = React.useState<string>(\"\");\r\n\r\n\t\tconst handleClickOpen = (): void => {\r\n\t\t\tsetOpen(true);\r\n\t\t};\r\n\r\n\t\tconst handleClose = (): void => {\r\n\t\t\tsetOpen(false);\r\n\t\t};\r\n\r\n\t\tconst handleChange = (e: React.ChangeEvent<HTMLInputElement>): void => {\r\n\t\t\tconst value = e.target.value.replace(/\\d/g, \"\");\r\n\t\t\tsetValue(value);\r\n\t\t};\r\n\r\n\t\tconst handleSubmit = (): void => {\r\n\t\t\tvalueHandler(value);\r\n\t\t\thandleClose();\r\n\t\t\tsetValue(\"\");\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<div className='mt-1'>\r\n\t\t\t\t<Button variant='outlined' color='primary' onClick={handleClickOpen}>\r\n\t\t\t\t\t{buttonText}\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Dialog open={open} onClose={handleClose} aria-labelledby='form-dialog-title'>\r\n\t\t\t\t\t<DialogTitle id='form-dialog-title'>{title}</DialogTitle>\r\n\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\tid='name'\r\n\t\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t<Button onClick={handleSubmit} color='primary'>\r\n\t\t\t\t\t\t\tAdd\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t</Dialog>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nexport default AddCityForm;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"../redux/reducers\";\r\nimport withLoginRedirect from \"../components/hoc/withLoginRedirect\";\r\nimport { NewsCard } from \"../components\";\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nconst Profile: React.FC = () => {\r\n\tconst { savedNews } = useSelector(({ profile }: RootState) => profile);\r\n\r\n\tif (savedNews.length === 0) {\r\n\t\treturn (\r\n\t\t\t<div className='mt-1'>\r\n\t\t\t\t<Typography variant='h5'>No saved news...</Typography>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='mt-1'>\r\n\t\t\t<Typography variant='h5'>Saved news</Typography>\r\n\t\t\t{savedNews.map((item) => {\r\n\t\t\t\treturn <NewsCard data={item} key={item.url} savedNews={savedNews} />;\r\n\t\t\t})}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default withLoginRedirect(Profile);\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { RootState } from \"../redux/reducers\";\r\nimport { getWeather, removeCity, setCurrentCity } from \"../redux/actions/weather\";\r\nimport { CitiesList, Loader, WeatherCard, AddCityForm } from \"../components\";\r\nimport withLoginRedirect from \"../components/hoc/withLoginRedirect\";\r\n\r\nimport { Grid, Typography } from \"@material-ui/core\";\r\n\r\nconst Weather: React.FC = () => {\r\n\tconst dispatch = useDispatch();\r\n\tconst { currentCity, citiesList, weatherData } = useSelector(\r\n\t\t({ weather }: RootState) => weather\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(getWeather(currentCity));\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [currentCity]);\r\n\r\n\tconst handleClickCity = (text: string): void => {\r\n\t\tdispatch(setCurrentCity(text));\r\n\t};\r\n\r\n\tconst handleRemoveCity = (text: string): void => {\r\n\t\tdispatch(removeCity(text));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='mt-1 '>\r\n\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t<Typography variant='h5'>Select or add another city </Typography>\r\n\t\t\t\t\t<CitiesList\r\n\t\t\t\t\t\tcitiesList={citiesList}\r\n\t\t\t\t\t\tcurrentCity={currentCity}\r\n\t\t\t\t\t\tonSelectCity={handleClickCity}\r\n\t\t\t\t\t\tonRemoveCity={handleRemoveCity}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<AddCityForm\r\n\t\t\t\t\t\ttitle={\"Enter your city\"}\r\n\t\t\t\t\t\tlabel={\"City\"}\r\n\t\t\t\t\t\tbuttonText={\"Press to enter city\"}\r\n\t\t\t\t\t\tvalueHandler={handleClickCity}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t{weatherData ? <WeatherCard weatherData={weatherData} /> : <Loader />}\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default withLoginRedirect(Weather);\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { RootState } from \"../redux/reducers\";\r\nimport { getNews } from \"../redux/actions/news\";\r\nimport { Loader, NewsCard } from \"../components\";\r\n\r\nconst News: React.FC = () => {\r\n\tconst dispatch = useDispatch();\r\n\tconst { news, isLoaded } = useSelector(({ news }: RootState) => news);\r\n\tconst { savedNews } = useSelector(({ profile }: RootState) => profile);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (news.length === 0) {\r\n\t\t\tdispatch(getNews(\"frontend\"));\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, []);\r\n\r\n\t// пока новости не подгрузиличь показываем loader\r\n\tif (!isLoaded) {\r\n\t\treturn <Loader />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='mt-1'>\r\n\t\t\t{news.map((item) => {\r\n\t\t\t\t// из уникальных значений в объекте был только url\r\n\t\t\t\treturn <NewsCard key={item.url} data={item} savedNews={savedNews} />;\r\n\t\t\t})}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default News;\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Route } from \"react-router-dom\";\r\nimport { Login, Home, Profile, Weather, News } from \"./pages\";\r\nimport Header from \"./components/Header\";\r\nimport { RootState } from \"./redux/reducers\";\r\nimport { setToken } from \"./redux/actions/login\";\r\nimport { setInitialized } from \"./redux/actions/initialize\";\r\n\r\nimport { Container } from \"@material-ui/core\";\r\nimport \"./App.css\";\r\nimport { Loader } from \"./components\";\r\n\r\nconst App: React.FC = () => {\r\n\tconst dispatch = useDispatch();\r\n\tconst { isInitialized } = useSelector(({ initialize }: RootState) => initialize);\r\n\tconst { jwtToken } = useSelector(({ login }: RootState) => login);\r\n\r\n\tuseEffect(() => {\r\n\t\t// получаем токен из localStorage\r\n\t\tconst data = localStorage.getItem(\"jwt-token\");\r\n\t\t// если он был записан в localStorage тогда парсим его значение и диспатчим в redux\r\n\t\tif (typeof data === \"string\") {\r\n\t\t\tconst token = JSON.parse(data);\r\n\t\t\tdispatch(setToken(token));\r\n\t\t}\r\n\t\t// в любом случае заканчиваем инициализую после проверки наличия токена в localStorage\r\n\t\tdispatch(setInitialized(true));\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, []);\r\n\r\n\t// обновляем значения токена в localStorage при изменении его в store\r\n\tuseEffect(() => {\r\n\t\tlocalStorage.setItem(\"jwt-token\", JSON.stringify(jwtToken));\r\n\t}, [jwtToken]);\r\n\r\n\t// при выходе меняем токен на false\r\n\tconst logoutHandler = () => {\r\n\t\tdispatch(setToken(false));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='App'>\r\n\t\t\t<Container maxWidth='lg'>\r\n\t\t\t\t{!isInitialized ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Header token={jwtToken} onLogout={logoutHandler} />\r\n\t\t\t\t\t\t<Route exact path='/' component={Home} />\r\n\t\t\t\t\t\t<Route path='/login'>\r\n\t\t\t\t\t\t\t<Login token={jwtToken} />\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route path='/profile' component={Profile} />\r\n\t\t\t\t\t\t<Route path='/weather' component={Weather} />\r\n\t\t\t\t\t\t<Route path='/news' component={News} />\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</Container>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import * as t from \"./types\";\r\n\r\nexport const setInitialized = (isInitialized: boolean): t.InitializeActions => ({\r\n\ttype: t.SET_INITIALIZED,\r\n\tpayload: isInitialized\r\n});\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { HashRouter as Router } from \"react-router-dom\";\nimport store from \"./redux/store\";\nimport App from \"./App\";\n\nimport \"./index.css\";\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<Router basename='/'>\n\t\t\t<App />\n\t\t</Router>\n\t</Provider>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}