(this.webpackJsonpjetup=this.webpackJsonpjetup||[]).push([[0],{119:function(e,t,n){},120:function(e,t,n){},121:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),i=n.n(c),s=n(18),o=n(35),l=n(34),j="login/SET_TOKEN",u="news/GET_NEWS",d="news/SET_NEWS",b="profile/SAVE_NEWS",h="profile/REMOVE_NEWS",O="weather/SAVE_CITY",p="weather/REMOVE_CITY",f="weather/GET_WEATHER",m="weather/SET_WEATHER",x="weather/SET_CURRENT_CITY",v="initialize/SET_INITIALIZED",w={jwtToken:!1},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return{jwtToken:t.payload};default:return e}},g=n(14),N=n(20),k={news:[],isLoaded:!1},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(N.a)(Object(N.a)({},e),{},{news:t.payload?Object(g.a)(t.payload):[],isLoaded:!0});default:return e}},T={savedNews:[]},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(N.a)(Object(N.a)({},e),{},{savedNews:[].concat(Object(g.a)(e.savedNews),[t.payload])});case h:var n=e.savedNews.filter((function(e){return e.url!==t.payload}));return Object(N.a)(Object(N.a)({},e),{},{savedNews:Object(g.a)(n)});default:return e}},C={currentCity:"Kherson",citiesList:[],weatherData:null},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(N.a)(Object(N.a)({},e),{},{weatherData:Object(N.a)({},t.payload)});case x:return Object(N.a)(Object(N.a)({},e),{},{currentCity:t.payload});case O:var n=e.citiesList.includes(t.payload);return Object(N.a)(Object(N.a)({},e),{},{citiesList:n?Object(g.a)(e.citiesList):[].concat(Object(g.a)(e.citiesList),[t.payload])});case p:var a=e.citiesList.filter((function(e){return e!==t.payload}));return Object(N.a)(Object(N.a)({},e),{},{citiesList:a,currentCity:a.length>0?a[0]:""});default:return e}},L={isInitialized:!1},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return{isInitialized:t.payload};default:return e}},W=Object(l.c)({login:y,news:E,profile:S,weather:_,initialize:I}),R=n(90),A=n(10),z=n.n(A),D=n(24),q=n(30),V=function(){var e=Object(q.a)(z.a.mark((function e(t,n,a){var r,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(n).concat(t,"&").concat(a),c=new Request(r),e.next=4,fetch(c).then((function(e){return e.json()}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),F=z.a.mark(M),H=z.a.mark(P),J=z.a.mark(Z);function M(e){var t,n,a;return z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.next=3,Object(D.b)(V,t,"https://newsapi.org/v2/everything?q=","apiKey=86f3eddc98f54d778f7ab8e0fd642815");case 3:return n=r.sent,a=n.articles,r.next=7,Object(D.d)({type:d,payload:a});case 7:case"end":return r.stop()}}),F)}function P(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.e)(u,M);case 2:case"end":return e.stop()}}),H)}function Z(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)([Object(D.c)(P)]);case 2:case"end":return e.stop()}}),J)}var K=z.a.mark(B),U=z.a.mark(G),Y=z.a.mark(X);function B(e){var t,n,a,r,c,i,s;return z.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,o.next=3,Object(D.b)(V,t,"https://api.openweathermap.org/data/2.5/weather?q=","appid=1827c03858478a35143b7d58794e8c59");case 3:if(n=o.sent,a=n.name,r=n.id,c=n.weather,i=n.main,s=n.wind,void 0===r){o.next=12;break}return o.next=12,Object(D.d)({type:O,payload:t});case 12:return o.next=14,Object(D.d)({type:m,payload:{name:a,id:r,weather:c,main:i,wind:s}});case 14:case"end":return o.stop()}}),K)}function G(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.e)(f,B);case 2:case"end":return e.stop()}}),U)}function X(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)([Object(D.c)(G)]);case 2:case"end":return e.stop()}}),Y)}var $=z.a.mark(Q);function Q(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)([Z(),X()]);case 2:case"end":return e.stop()}}),$)}var ee=Object(R.a)(),te=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,ne=Object(l.e)(W,te(Object(l.a)(ee)));ee.run(Q);var ae=ne,re=n(17),ce=n(69),ie=function(e){return{type:j,payload:e}},se=n(149),oe=n(167),le=n(151),je=n(147),ue=n(2),de=Object(je.a)({form:{maxWidth:"300px",margin:"50px auto"},input:{margin:"5px 0"}}),be=function(e){var t=e.token,n=de(),a=Object(s.b)(),r=Object(ce.b)(),c=r.control,i=r.handleSubmit,o=r.errors,l=r.reset;return t?Object(ue.jsx)(re.a,{to:"/"}):Object(ue.jsxs)("form",{onSubmit:i((function(e){a(ie(!0)),l({email:"",password:""})})),className:n.form,children:[Object(ue.jsx)(se.a,{variant:"outlined",className:n.input,fullWidth:!0,children:Object(ue.jsx)(ce.a,{name:"email",as:Object(ue.jsx)(oe.a,{id:"email",helperText:o.email?o.email.message:null,variant:"outlined",label:"Email"}),control:c,defaultValue:"",rules:{required:"Required",pattern:{value:/^[A-Z0-9._-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,message:"invalid email address"}}})}),Object(ue.jsx)(se.a,{variant:"outlined",className:n.input,fullWidth:!0,children:Object(ue.jsx)(ce.a,{name:"password",as:Object(ue.jsx)(oe.a,{id:"password",type:"password",helperText:o.password?o.password.message:null,variant:"outlined",label:"Password"}),control:c,defaultValue:"",rules:{required:"Required",pattern:{value:/^[0-9]{5,10}$/g,message:"password must include at least 5 numbers"}}})}),Object(ue.jsx)(le.a,{variant:"contained",color:"primary",type:"submit",children:"Login"})]})},he=n(152),Oe=n(93),pe=function(e){return function(t){return Object(s.c)((function(e){return e.login})).jwtToken?Object(ue.jsx)(e,Object(N.a)({},t)):Object(ue.jsx)(re.a,{to:"/login"})}},fe=pe((function(){return Object(ue.jsx)(he.a,{maxWidth:"sm",children:Object(ue.jsxs)("div",{className:"mt-1",children:[Object(ue.jsx)(Oe.a,{variant:"h4",children:"\u0422\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e Jet Up \u043d\u0430 \u043f\u043e\u0437\u0438\u0446\u0438\u044e Frontend Developer"}),Object(ue.jsx)(Oe.a,{variant:"h6",children:"by Alexandr Tilnenko"})]})})})),me=n(28),xe=n(153),ve=n(154),we=n(155),ye=n(156),ge=n(157),Ne=n(168),ke=n(158),Ee=Object(je.a)({root:{maxWidth:500,margin:"20px auto"},media:{height:260}}),Te=r.a.memo((function(e){var t=e.data,n=e.savedNews,r=Ee(),c=Object(s.b)(),i=Object(a.useState)(!1),o=Object(me.a)(i,2),l=o[0],j=o[1],u=Object(s.c)((function(e){return e.login})).jwtToken;Object(a.useEffect)((function(){var e=n.filter((function(e){return e.url===t.url}))[0];j(!!e)}),[n]);var d=function(e){c(function(e){return{type:b,payload:e}}(e))},O=function(e){c({type:h,payload:e})},p=t.urlToImage,f=t.title,m=t.description,x=t.url;return Object(ue.jsxs)(xe.a,{className:r.root,children:[Object(ue.jsxs)(ve.a,{children:[Object(ue.jsx)(we.a,{className:r.media,image:p||"https://peacemakersnetwork.org/wp-content/uploads/2019/09/placeholder.jpg",title:f}),Object(ue.jsxs)(ye.a,{children:[Object(ue.jsx)(Oe.a,{gutterBottom:!0,variant:"h5",component:"h2",children:f}),Object(ue.jsx)(Oe.a,{variant:"body2",color:"textSecondary",component:"p",children:m})]})]}),Object(ue.jsxs)(ge.a,{children:[u&&Object(ue.jsx)(Ne.a,{children:l?Object(ue.jsx)(le.a,{size:"small",color:"primary",onClick:function(){return O(t.url)},children:"Remove"}):Object(ue.jsx)(le.a,{size:"small",color:"primary",onClick:function(){return d(t)},children:"Save"})}),Object(ue.jsx)(le.a,{size:"small",color:"primary",children:Object(ue.jsx)(ke.a,{href:x,rel:"noreferrer",target:"_blank",color:"inherit",children:"Learn More"})})]})]})})),Se=n(171),Ce=n(159),_e=n(160),Le=Object(je.a)((function(){return Object(Se.a)({root:{justifyContent:"space-between",maxWidth:"500px",margin:"0 auto"}})})),Ie=r.a.memo((function(e){var t=e.token,n=e.onLogout,a=Le();return Object(ue.jsx)(Ce.a,{position:"sticky",children:Object(ue.jsxs)(_e.a,{className:a.root,children:[Object(ue.jsx)(le.a,{color:"inherit",children:Object(ue.jsx)(o.b,{to:"/",children:"Home"})}),Object(ue.jsx)(le.a,{color:"inherit",children:Object(ue.jsx)(o.b,{to:"profile",children:"Profile"})}),Object(ue.jsx)(le.a,{color:"inherit",children:Object(ue.jsx)(o.b,{to:"weather",children:"Weather"})}),Object(ue.jsx)(le.a,{color:"inherit",children:Object(ue.jsx)(o.b,{to:"news",children:"News"})}),t?Object(ue.jsx)(le.a,{color:"inherit",onClick:n,children:"Logout"}):Object(ue.jsx)(le.a,{color:"inherit",children:Object(ue.jsx)(o.b,{to:"login",children:"Login"})})]})})})),We=n(161),Re=function(){return Object(ue.jsx)(he.a,{maxWidth:"sm",children:Object(ue.jsx)(We.a,{className:"mt-2"})})},Ae=function(e){return+(e-273.15).toFixed(1)},ze=Object(je.a)({img:{width:50,height:50,display:"inline-block"},infoTitle:{display:"flex",alignItems:"left"}}),De=r.a.memo((function(e){var t=e.weatherData,n=ze(),a=t.name,r=t.weather,c=t.wind,i=t.main;if(void 0===t.id)return Object(ue.jsx)(Oe.a,{variant:"h5",className:n.infoTitle,children:"Enter the name of the city, if the weather does not download so name incorrect"});var s="http://openweathermap.org/img/w/"+t.weather[0].icon+".png";return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsxs)(Oe.a,{variant:"h5",className:n.infoTitle,children:["In ".concat(a," ").concat(r[0].main," "),Object(ue.jsx)(we.a,{image:s,className:n.img})]}),Object(ue.jsx)(Oe.a,{variant:"subtitle1",align:"left",children:"Temperature: ".concat(Ae(i.temp),"\u2103")}),Object(ue.jsx)(Oe.a,{variant:"subtitle1",align:"left",children:"Fills like: ".concat(Ae(i.feels_like),"\u2103")}),Object(ue.jsx)(Oe.a,{variant:"subtitle1",align:"left",children:"Humidity: ".concat(i.humidity,"%")}),Object(ue.jsx)(Oe.a,{variant:"subtitle1",align:"left",children:"Wind: ".concat(c.speed,"m/s")})]})})),qe=n(162),Ve=n(89),Fe=n.n(Ve),He=Object(je.a)({wrapper:{marginTop:20,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},cityItem:{margin:"5px 0",display:"inline-block",minWidth:150},icon:{margin:"0 0 0 10px"}}),Je=r.a.memo((function(e){var t=e.citiesList,n=e.currentCity,a=e.onSelectCity,r=e.onRemoveCity,c=He();return Object(ue.jsx)("div",{className:c.wrapper,children:t.map((function(e){return Object(ue.jsxs)("div",{children:[Object(ue.jsx)(le.a,{variant:n===e?"contained":"text",color:n===e?"primary":"default",className:c.cityItem,onClick:function(){return a(e)},children:e}),Object(ue.jsx)(qe.a,{className:c.icon,onClick:function(){return r(e)},children:Object(ue.jsx)(Fe.a,{fontSize:"small"})})]},e)}))})})),Me=n(170),Pe=n(163),Ze=n(164),Ke=n(165),Ue=r.a.memo((function(e){var t=e.title,n=e.label,a=e.buttonText,c=e.valueHandler,i=r.a.useState(!1),s=Object(me.a)(i,2),o=s[0],l=s[1],j=r.a.useState(""),u=Object(me.a)(j,2),d=u[0],b=u[1],h=function(){l(!1)};return Object(ue.jsxs)("div",{className:"mt-1",children:[Object(ue.jsx)(le.a,{variant:"outlined",color:"primary",onClick:function(){l(!0)},children:a}),Object(ue.jsxs)(Me.a,{open:o,onClose:h,"aria-labelledby":"form-dialog-title",children:[Object(ue.jsx)(Pe.a,{id:"form-dialog-title",children:t}),Object(ue.jsx)(Ze.a,{children:Object(ue.jsx)(oe.a,{margin:"dense",id:"name",label:n,type:"text",value:d,onChange:function(e){var t=e.target.value.replace(/\d/g,"");b(t)},autoFocus:!0,fullWidth:!0})}),Object(ue.jsx)(Ke.a,{children:Object(ue.jsx)(le.a,{onClick:function(){c(d),h(),b("")},color:"primary",children:"Add"})})]})]})})),Ye=pe((function(){var e=Object(s.c)((function(e){return e.profile})).savedNews;return 0===e.length?Object(ue.jsx)("div",{className:"mt-1",children:Object(ue.jsx)(Oe.a,{variant:"h5",children:"No saved news..."})}):Object(ue.jsxs)("div",{className:"mt-1",children:[Object(ue.jsx)(Oe.a,{variant:"h5",children:"Saved news"}),e.map((function(t){return Object(ue.jsx)(Te,{data:t,savedNews:e},t.url)}))]})})),Be=n(166),Ge=pe((function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.weather})),n=t.currentCity,r=t.citiesList,c=t.weatherData;Object(a.useEffect)((function(){e({type:f,payload:n})}),[n]);var i=function(t){e({type:x,payload:t})};return Object(ue.jsx)("div",{className:"mt-1 ",children:Object(ue.jsxs)(Be.a,{container:!0,spacing:3,children:[Object(ue.jsxs)(Be.a,{item:!0,xs:6,children:[Object(ue.jsx)(Oe.a,{variant:"h5",children:"Select or add another city "}),Object(ue.jsx)(Je,{citiesList:r,currentCity:n,onSelectCity:i,onRemoveCity:function(t){e({type:p,payload:t})}}),Object(ue.jsx)(Ue,{title:"Enter your city",label:"City",buttonText:"Press to enter city",valueHandler:i})]}),Object(ue.jsx)(Be.a,{item:!0,xs:6,children:c?Object(ue.jsx)(De,{weatherData:c}):Object(ue.jsx)(Re,{})})]})})})),Xe=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.news})),n=t.news,r=t.isLoaded,c=Object(s.c)((function(e){return e.profile})).savedNews;return Object(a.useEffect)((function(){0===n.length&&e({type:u,payload:"frontend"})}),[]),r?Object(ue.jsx)("div",{className:"mt-1",children:n.map((function(e){return Object(ue.jsx)(Te,{data:e,savedNews:c},e.url)}))}):Object(ue.jsx)(Re,{})},$e=(n(119),function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.initialize})).isInitialized,n=Object(s.c)((function(e){return e.login})).jwtToken;Object(a.useEffect)((function(){var t=localStorage.getItem("jwt-token");if("string"===typeof t){var n=JSON.parse(t);e(ie(n))}e(function(e){return{type:v,payload:e}}(!0))}),[]),Object(a.useEffect)((function(){localStorage.setItem("jwt-token",JSON.stringify(n))}),[n]);return Object(ue.jsx)("div",{className:"App",children:Object(ue.jsx)(he.a,{maxWidth:"lg",children:t?Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(Ie,{token:n,onLogout:function(){e(ie(!1))}}),Object(ue.jsx)(re.b,{exact:!0,path:"/",component:fe}),Object(ue.jsx)(re.b,{path:"/login",children:Object(ue.jsx)(be,{token:n})}),Object(ue.jsx)(re.b,{path:"/profile",component:Ye}),Object(ue.jsx)(re.b,{path:"/weather",component:Ge}),Object(ue.jsx)(re.b,{path:"/news",component:Xe})]}):Object(ue.jsx)(Re,{})})})});n(120);i.a.render(Object(ue.jsx)(s.a,{store:ae,children:Object(ue.jsx)(o.a,{basename:"/",children:Object(ue.jsx)($e,{})})}),document.getElementById("root"))}},[[121,1,2]]]);
//# sourceMappingURL=main.e9b9473a.chunk.js.map